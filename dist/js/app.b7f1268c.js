(function(e){function t(t){for(var c,r,s=t[0],u=t[1],i=t[2],l=0,d=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&(e[c]=u[c]);f&&f(t);while(d.length)d.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],c=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(c=!1)}c&&(a.splice(t--,1),e=u(u.s=n[0]))}return e}var c={},r={app:0},o={app:0},a=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-0234063c":"69f886d5","chunk-3dbb10fc":"4fcd4f6d","chunk-72289631":"52c963ea","chunk-eadb53a8":"885cbc69","chunk-fdeb6d5e":"2e2ca376"}[e]+".js"}function u(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-0234063c":1,"chunk-3dbb10fc":1,"chunk-72289631":1,"chunk-eadb53a8":1,"chunk-fdeb6d5e":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var c="css/"+({}[e]||e)+"."+{"chunk-0234063c":"b20d2b5e","chunk-3dbb10fc":"3d09418c","chunk-72289631":"beba94e4","chunk-eadb53a8":"76d7c36b","chunk-fdeb6d5e":"36d8d763"}[e]+".css",o=u.p+c,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var i=a[s],l=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(l===c||l===o))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){i=d[s],l=i.getAttribute("data-href");if(l===c||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var c=t&&t.target&&t.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=c,delete r[e],f.parentNode.removeChild(f),n(a)},f.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){r[e]=0})));var c=o[e];if(0!==c)if(c)t.push(c[2]);else{var a=new Promise((function(t,n){c=o[e]=[t,n]}));t.push(c[2]=a);var i,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(e);var d=new Error;i=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:l})}),12e4);l.onerror=l.onload=i,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=c,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)u.d(n,c,function(t){return e[t]}.bind(null,c));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08c8":function(e,t,n){e.exports=n.p+"img/logo-1.934aba4e.png"},"0991":function(e,t,n){},"32be":function(e,t,n){},"544b":function(e,t,n){"use strict";n("d845")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=n("08c8"),o=n.n(r),a={key:0,class:"pending"},s=Object(c["i"])("img",{src:o.a,class:"pending__cmp"},null,-1),u=[s];function i(e,t,n,r,o,s){var i=Object(c["E"])("the-header"),l=Object(c["E"])("router-view"),d=Object(c["E"])("the-footer");return Object(c["w"])(),Object(c["h"])("div",null,[(Object(c["w"])(),Object(c["f"])(c["b"],{to:"body"},[r.pending?(Object(c["w"])(),Object(c["h"])("div",a,u)):Object(c["g"])("",!0)])),Object(c["l"])(i),Object(c["i"])("main",null,[Object(c["l"])(l,null,{default:Object(c["M"])((function(e){return[Object(c["l"])(c["c"],{name:"fade"},{default:Object(c["M"])((function(){return[(Object(c["w"])(),Object(c["f"])(Object(c["F"])(e.Component)))]})),_:2},1024)]})),_:1})]),Object(c["l"])(d)])}n("caad"),n("2532");var l=n("5502"),d=n("6c02"),f=n("5b62"),b=n.n(f);Object(c["z"])("data-v-fd8e3416");var m={class:"nav"},p=Object(c["i"])("img",{class:"logo",src:b.a},null,-1),h={class:"nav__btns"},g={class:"nav__item"},O=Object(c["i"])("button",{class:"nav__btn",type:"button"},"EN",-1);function j(e,t,n,r,o,a){var s=Object(c["E"])("router-link"),u=Object(c["E"])("the-currency");return Object(c["w"])(),Object(c["h"])("nav",m,[Object(c["l"])(s,{class:"logo__link",to:"/"},{default:Object(c["M"])((function(){return[p]})),_:1}),Object(c["i"])("ul",h,[Object(c["i"])("li",g,[O,Object(c["i"])("button",{class:"nav__btn",onClick:t[0]||(t[0]=function(){return r.openDrop&&r.openDrop.apply(r,arguments)}),type:"button"},Object(c["H"])(r.getSelectedCurrency),1),Object(c["l"])(u)])])])}Object(c["x"])();var v=n("1da1"),y=(n("96cf"),function(e,t,n){if((e.target.classList.contains("nav__btn")||e.target.classList.contains("drop")||e.target.classList.contains("close"))&&t.dispatch("openCloseDrop"),e.target.classList.contains("symbol")||e.target.classList.contains("curr")||e.target.classList.contains("currency__item")){var c={city:n.params.city,country:n.params.country,checkInValue:n.params.checkIn,checkOutValue:n.params.checkOut,rooms:1*n.params.rooms,children:1*n.params.children,adults:1*n.params.adults,sorting:t.getters.getSorting,page:1*t.getters.getHotelsPage},r=e.target.closest(".currency__item").querySelector(".symbol").textContent;if(t.dispatch("selectCurrency",r),t.dispatch("openCloseDrop"),!n.path.includes("/hotels/"))return;c.currency=r,t.dispatch("setHotelsPage",1),t.dispatch("setSorting","popularity"),t.dispatch("startSearch",c)}});Object(c["z"])("data-v-4e9f11e3");var _={class:"currency"},k=Object(c["i"])("div",{class:"title"},[Object(c["i"])("h3",null,"select currency"),Object(c["i"])("span",{class:"close"},"X")],-1),w={class:"currency__list"},C=Object(c["i"])("span",{class:"symbol"},"USD",-1),N=Object(c["i"])("span",{class:"curr"},"US Dollar",-1),P=[C,N],S=Object(c["i"])("span",{class:"symbol"},"EUR",-1),R=Object(c["i"])("span",{class:"curr"},"Euro",-1),x=[S,R],A=Object(c["i"])("span",{class:"symbol"},"GBP",-1),D=Object(c["i"])("span",{class:"curr"},"British pounds",-1),H=[A,D],E=Object(c["i"])("span",{class:"symbol"},"MAD",-1),T=Object(c["i"])("span",{class:"curr"},"Moroccan dirham",-1),M=[E,T];function I(e,t,n,r,o,a){return Object(c["w"])(),Object(c["f"])(c["b"],{to:"body"},[Object(c["l"])(c["c"],null,{default:Object(c["M"])((function(){return[r.getDropState?(Object(c["w"])(),Object(c["h"])("div",{key:0,onClick:t[0]||(t[0]=function(){return r.openDrop&&r.openDrop.apply(r,arguments)}),class:"drop"},[Object(c["i"])("div",_,[k,Object(c["i"])("ul",w,[Object(c["i"])("li",{class:Object(c["r"])([{selected:"USD"===r.getSelectedCurrency},"currency__item"])},P,2),Object(c["i"])("li",{class:Object(c["r"])([{selected:"EUR"===r.getSelectedCurrency},"currency__item"])},x,2),Object(c["i"])("li",{class:Object(c["r"])([{selected:"GBP"===r.getSelectedCurrency},"currency__item"])},H,2),Object(c["i"])("li",{class:Object(c["r"])([{selected:"MAD"===r.getSelectedCurrency},"currency__item"])},M,2)])])])):Object(c["g"])("",!0)]})),_:1})])}Object(c["x"])();var L={setup:function(){var e=Object(l["b"])(),t=Object(d["c"])(),n=function(n){y(n,e,t)},r=Object(c["d"])((function(){return e.getters.getDropState})),o=Object(c["d"])((function(){return e.getters.getSelectedCurrency}));return{openDrop:n,getDropState:r,getSelectedCurrency:o}}};n("7c9d");L.render=I,L.__scopeId="data-v-4e9f11e3";var B=L,F={components:{TheCurrency:B},setup:function(){var e=Object(l["b"])(),t=function(t){y(t,e)},n=Object(c["d"])((function(){return e.getters.getSelectedCurrency}));return Object(c["L"])(n,Object(v["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dispatch("setPending",!0),e.dispatch("setPending",!1);case 2:case"end":return t.stop()}}),t)})))),{openDrop:t,getSelectedCurrency:n}}};n("b458");F.render=j,F.__scopeId="data-v-fd8e3416";var U=F,z=n("829b"),q=n.n(z);Object(c["z"])("data-v-4a142c12");var G={class:"footer"},V=Object(c["i"])("div",{class:"author"},[Object(c["i"])("span",null,"Made by"),Object(c["i"])("a",{target:"_blank",href:"http://hamzasehouli.ma"},"Hamza Sehouli"),Object(c["i"])("img",{src:q.a,alt:"hamza sehouli photo"})],-1),J={class:"footer__list"},$={class:"footer__item"},K=Object(c["k"])("About"),X={class:"footer__item"},Q=Object(c["k"])("Privacy Policy");function W(e,t,n,r,o,a){var s=Object(c["E"])("router-link");return Object(c["w"])(),Object(c["h"])("footer",G,[V,Object(c["i"])("ul",J,[Object(c["i"])("li",$,[Object(c["l"])(s,{to:"/about"},{default:Object(c["M"])((function(){return[K]})),_:1})]),Object(c["i"])("li",X,[Object(c["l"])(s,{to:"/policy"},{default:Object(c["M"])((function(){return[Q]})),_:1})])])])}Object(c["x"])();var Y={};n("bde4");Y.render=W,Y.__scopeId="data-v-4a142c12";var Z=Y,ee={components:{TheHeader:U,TheFooter:Z},setup:function(){var e=Object(l["b"])(),t=Object(d["c"])();Object(c["u"])((function(){window.localStorage.getItem("curr")&&!t.path.includes("/hotels/")&&e.dispatch("selectCurrency",window.localStorage.getItem("curr"))}));var n=Object(c["d"])((function(){return e.getters.getPending}));return{pending:n}}};n("544b");ee.render=i;var te=ee,ne=n("9483");Object(ne["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("7db0"),n("fb6a"),n("d81d"),n("a630"),n("3ca3"),n("159b"),n("b64b"),n("d3b7"),n("ddb0");var ce=[{path:"/",name:"Home",component:function(){return n.e("chunk-72289631").then(n.bind(null,"bb51"))},meta:{title:"Home Page - lodingnbed"}},{path:"/policy",name:"Policy",component:function(){return n.e("chunk-0234063c").then(n.bind(null,"2da4"))},meta:{title:"Policy"}},{path:"/hotels/:city/:country/:checkIn/:checkOut/:rooms/:adults/:children/:sorting/:page/:currency",name:"Hotels",props:!0,component:function(){return n.e("chunk-fdeb6d5e").then(n.bind(null,"2208"))}},{path:"/about",name:"About",component:function(){return n.e("chunk-3dbb10fc").then(n.bind(null,"f820"))},meta:{title:"About"}},{path:"/:notFound(.*)",name:"notFound",component:function(){return n.e("chunk-eadb53a8").then(n.bind(null,"9703"))}}],re=Object(d["a"])({history:Object(d["b"])("/"),routes:ce,linkActiveClass:"active",scrollBehavior:function(e,t,n){return n||{top:0,left:0}}});re.beforeEach((function(e,t,n){var c=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.title})),r=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags})),o=t.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags}));if(c?document.title=c.meta.title:o&&(document.title=o.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((function(e){return e.parentNode.removeChild(e)})),!r)return n();r.meta.metaTags.map((function(e){var t=document.createElement("meta");return Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])})),t.setAttribute("data-vue-router-controlled",""),t})).forEach((function(e){return document.head.appendChild(e)})),n()}));var oe=re,ae=n("3835"),se=(n("4fad"),n("ac1f"),n("5319"),n("a9e3"),n("99af"),{fetchData:function(e){return Object(v["a"])(regeneratorRuntime.mark((function t(){var n,c,r,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://lodgingnbed-default-rtdb.europe-west1.firebasedatabase.app/cities.json");case 3:return n=t.sent,t.t0=Object,t.next=7,n.json();case 7:t.t1=t.sent,c=t.t0.entries.call(t.t0,t.t1),r=Object(ae["a"])(c,1),o=r[0],a=o[1],e.commit("fetchData",a),t.next=18;break;case 15:t.prev=15,t.t2=t["catch"](0),console.log(t.t2);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},openCloseDrop:function(e){e.commit("openCloseDrop")},selectCurrency:function(e,t){window.localStorage.setItem("curr",t||"USD"),e.commit("selectCurrency",t)},increaseAdultsNum:function(e){e.commit("increaseAdultsNum")},decreaseAdultsNum:function(e){e.commit("decreaseAdultsNum")},increaseChildrenNum:function(e){e.commit("increaseChildrenNum")},decreaseChildrenNum:function(e){e.commit("decreaseChildrenNum")},increaseRoomsNum:function(e){e.commit("increaseRoomsNum")},decreaseRoomsNum:function(e){e.commit("decreaseRoomsNum")},startSearch:function(e,t){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n.dispatch("setPending",!0),oe.replace({name:"Hotels",params:{city:t.city,country:t.country,checkIn:t.checkInValue,checkOut:t.checkOutValue,rooms:t.rooms,adults:t.adults,children:t.children,sorting:t.sorting,page:t.page,currency:t.currency}})}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})))()},setPending:function(e,t){e.commit("setPending",t)},setNextHotelsPage:function(e){e.commit("setNextHotelsPage")},setPrevHotelsPage:function(e){e.commit("setPrevHotelsPage")},setHotelsPage:function(e,t){Number(t)<=0||e.commit("setHotelsPage",t)},setSorting:function(e,t){e.commit("setSorting",t)},setResultsTotalOfHotels:function(e,t){e.commit("setResultsTotalOfHotels",t)},fetchResults:function(e,t){var n=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var c,r,o,a,s,u,i,l,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.dispatch("setPending",!0),e.next=3,fetch("https://booking-com.p.rapidapi.com/v1/hotels/locations?locale=en-gb&name=".concat(t.city),{method:"GET",headers:{"x-rapidapi-host":"booking-com.p.rapidapi.com","x-rapidapi-key":"c723a89b2dmsh75a183e8e9aa3e2p1dfc0fjsn840bf6b9f23b"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return o=e.sent,a=o.find((function(e){return e.city_name===t.city&&"Morocco"===e.country})).dest_id,e.next=10,fetch("https://booking-com.p.rapidapi.com/v1/hotels/search?units=metric&order_by=".concat(t.sorting,"&checkin_date=").concat(t.checkIn,"&filter_by_currency=").concat(t.currency,"&adults_number=").concat(t.adults,"&checkout_date=").concat(t.checkOut,"&dest_id=").concat(a,"&locale=en-gb&dest_type=city&room_number=").concat(t.rooms,"&page_number=").concat(t.page).concat(0===t.children?"":"&children_number=".concat(t.children)),{method:"GET",headers:{"x-rapidapi-host":"booking-com.p.rapidapi.com","x-rapidapi-key":"c723a89b2dmsh75a183e8e9aa3e2p1dfc0fjsn840bf6b9f23b"}});case 10:return s=e.sent,e.next=13,s.json();case 13:return u=e.sent,i=u.result.map((function(e){return{hotelName:e.hotel_name,stars:e.class,numberOfResults:u.count,reviewScore:e.review_score,numberOfReviews:e.review_nr,price:e.min_total_price,currency:e.currency_code,url:e.url,mainPhotoUrl:e.max_photo_url,isFreeCancellable:e.is_free_cancellable,isCityCenter:e.is_city_center,isBeachFront:e.is_beach_front,hotelIncludeBreakFast:e.hotel_include_breakfast}})),l=i,d=null===(c=l[0])||void 0===c?void 0:c.numberOfResults,e.abrupt("return",{count:d,results:l});case 18:case"end":return e.stop()}}),e)})))()}}),ue={getDropState:function(e){return e.currencyDropOpen},getSelectedCurrency:function(e){return e.selectedCurrency},getAdultsNum:function(e){return e.AdultsNum},getChildrenNum:function(e){return e.ChildrenNum},getRoomsNum:function(e){return e.RoomsNum},getResults:function(e){return e.results},getPending:function(e){return e.pending},getHotelsResults:function(e){return e.hotelsResults},getHotelsPage:function(e){return e.hotelsPage},getSorting:function(e){return e.sorting},getResultsTotalOfHotels:function(e){return e.resultsTotalOfHotels}},ie={openCloseDrop:function(e){e.currencyDropOpen=!e.currencyDropOpen},selectCurrency:function(e,t){e.selectedCurrency=t},increaseAdultsNum:function(e){e.AdultsNum>=20||++e.AdultsNum},decreaseAdultsNum:function(e){e.AdultsNum<=1||--e.AdultsNum},increaseChildrenNum:function(e){e.ChildrenNum>=10||++e.ChildrenNum},decreaseChildrenNum:function(e){e.ChildrenNum<=0||--e.ChildrenNum},increaseRoomsNum:function(e){e.RoomsNum>=20||++e.RoomsNum},decreaseRoomsNum:function(e){e.RoomsNum<=1||--e.RoomsNum},fetchData:function(e,t){e.results=t},setPending:function(e,t){e.pending=t},addResults:function(e,t){e.hotelsResults=t},setNextHotelsPage:function(e){++e.hotelsPage},setPrevHotelsPage:function(e){0!==e.hotelsPage?--e.hotelsPage:e.hotelsPage=1},setHotelsPage:function(e,t){e.hotelsPage=t},setSorting:function(e,t){e.sorting=t},setResultsTotalOfHotels:function(e,t){e.resultsTotalOfHotels=t}},le=Object(l["a"])({state:{selectedCurrency:"MAD",currencyDropOpen:!1,AdultsNum:2,ChildrenNum:0,RoomsNum:1,results:[],pending:!1,hotelsResults:[],hotelsPage:1,sorting:"popularity",resultsTotalOfHotels:100},mutations:ie,actions:se,modules:{},getters:ue});function de(e,t){return Object(c["w"])(),Object(c["h"])("section",null,[Object(c["D"])(e.$slots,"default",{},void 0,!0)])}n("e22a");const fe={};fe.render=de,fe.__scopeId="data-v-b4aa2656";var be=fe;Object(c["z"])("data-v-6e33a170");var me={class:"slot"};function pe(e,t,n,r,o,a){var s=Object(c["E"])("the-section");return Object(c["w"])(),Object(c["f"])(s,null,{default:Object(c["M"])((function(){return[Object(c["i"])("div",null,[Object(c["i"])("h1",null,Object(c["H"])(n.title),1),Object(c["i"])("div",me,[Object(c["D"])(e.$slots,"default",{},void 0,!0)])])]})),_:3})}Object(c["x"])();var he={props:["title"]};n("826e");he.render=pe,he.__scopeId="data-v-6e33a170";var ge=he,Oe=Object(c["e"])(te);Oe.component("the-section",be),Oe.component("the-content",ge),Oe.use(le),Oe.use(oe),oe.isReady().then((function(){return Oe.mount("#app")})).catch((function(e){console.log(e)}))},"5b62":function(e,t,n){e.exports=n.p+"img/logo.194ea1d8.png"},"65d5":function(e,t,n){},"7c9d":function(e,t,n){"use strict";n("8d71")},"826e":function(e,t,n){"use strict";n("65d5")},"829b":function(e,t,n){e.exports=n.p+"img/ceo.961b006d.jpg"},"8d71":function(e,t,n){},b458:function(e,t,n){"use strict";n("32be")},bde4:function(e,t,n){"use strict";n("0991")},d845:function(e,t,n){},d8b3:function(e,t,n){},e22a:function(e,t,n){"use strict";n("d8b3")}});
//# sourceMappingURL=app.b7f1268c.js.map